<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Demetrius DiMucci">
<meta name="dcterms.date" content="2025-12-15">

<title>High-Dimensional Causal Inference in Draft Environments - Identifying Causal Deck-Construction Effects in High-Dimensional Draft Environments</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">High-Dimensional Causal Inference in Draft Environments</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" rel="" target="" aria-current="page">
 <span class="menu-text">Home</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/USERNAME/High_Dimensional_Causal_Inference" rel="" target="">
 <span class="menu-text">GitHub</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#abstract" id="toc-abstract" class="nav-link active" data-scroll-target="#abstract">abstract</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">1. introduction</a></li>
  <li><a href="#causal-structure" id="toc-causal-structure" class="nav-link" data-scroll-target="#causal-structure">2. causal structure</a>
  <ul class="collapse">
  <li><a href="#dag" id="toc-dag" class="nav-link" data-scroll-target="#dag">2.1 dag</a></li>
  <li><a href="#interpretation" id="toc-interpretation" class="nav-link" data-scroll-target="#interpretation">2.2 interpretation</a></li>
  <li><a href="#estimand" id="toc-estimand" class="nav-link" data-scroll-target="#estimand">2.3 Estimand</a></li>
  </ul></li>
  <li><a href="#baseline-win-propensity" id="toc-baseline-win-propensity" class="nav-link" data-scroll-target="#baseline-win-propensity">3. baseline win propensity</a></li>
  <li><a href="#modeling-deck-driven-win-probability" id="toc-modeling-deck-driven-win-probability" class="nav-link" data-scroll-target="#modeling-deck-driven-win-probability">4. modeling deck-driven win probability</a>
  <ul class="collapse">
  <li><a href="#high-dimensional-deck-model" id="toc-high-dimensional-deck-model" class="nav-link" data-scroll-target="#high-dimensional-deck-model">4.1 high-dimensional deck model</a></li>
  <li><a href="#deck-bump" id="toc-deck-bump" class="nav-link" data-scroll-target="#deck-bump">4.2 deck bump</a></li>
  </ul></li>
  <li><a href="#identifiability-and-simulation-tests" id="toc-identifiability-and-simulation-tests" class="nav-link" data-scroll-target="#identifiability-and-simulation-tests">5. Identifiability and simulation tests</a>
  <ul class="collapse">
  <li><a href="#findings" id="toc-findings" class="nav-link" data-scroll-target="#findings">Findings</a></li>
  </ul></li>
  <li><a href="#empirical-results-on-17lands-fin-format" id="toc-empirical-results-on-17lands-fin-format" class="nav-link" data-scroll-target="#empirical-results-on-17lands-fin-format">6. empirical results on 17lands FIN format</a>
  <ul class="collapse">
  <li><a href="#lands-premier-draft-data" id="toc-lands-premier-draft-data" class="nav-link" data-scroll-target="#lands-premier-draft-data">6.1 17lands Premier Draft Data</a></li>
  <li><a href="#calibration" id="toc-calibration" class="nav-link" data-scroll-target="#calibration">6.2 calibration</a></li>
  <li><a href="#player-strength-correction" id="toc-player-strength-correction" class="nav-link" data-scroll-target="#player-strength-correction">6.3 player-strength correction</a></li>
  <li><a href="#per-card-marginal-curves" id="toc-per-card-marginal-curves" class="nav-link" data-scroll-target="#per-card-marginal-curves">6.4 per-card marginal curves</a></li>
  </ul></li>
  <li><a href="#interpretability" id="toc-interpretability" class="nav-link" data-scroll-target="#interpretability">7. interpretability</a></li>
  <li><a href="#discussion" id="toc-discussion" class="nav-link" data-scroll-target="#discussion">8. Discussion</a>
  <ul class="collapse">
  <li><a href="#implications-and-use-cases" id="toc-implications-and-use-cases" class="nav-link" data-scroll-target="#implications-and-use-cases">Implications and use cases</a></li>
  <li><a href="#utility-for-players-and-analysts" id="toc-utility-for-players-and-analysts" class="nav-link" data-scroll-target="#utility-for-players-and-analysts">Utility for players and analysts</a></li>
  <li><a href="#methodological-contribution-causal-inference-in-high-dimensions" id="toc-methodological-contribution-causal-inference-in-high-dimensions" class="nav-link" data-scroll-target="#methodological-contribution-causal-inference-in-high-dimensions">Methodological Contribution: Causal inference in High Dimensions</a></li>
  <li><a href="#implications-for-game-design-and-balance-analysis" id="toc-implications-for-game-design-and-balance-analysis" class="nav-link" data-scroll-target="#implications-for-game-design-and-balance-analysis">Implications for Game Design and Balance Analysis</a></li>
  <li><a href="#recovery-of-the-deck-effect-under-realistic-observation-noise" id="toc-recovery-of-the-deck-effect-under-realistic-observation-noise" class="nav-link" data-scroll-target="#recovery-of-the-deck-effect-under-realistic-observation-noise">Recovery of the Deck Effect under Realistic Observation Noise</a></li>
  <li><a href="#xgboost-as-a-function-approximator-for-the-g-formula" id="toc-xgboost-as-a-function-approximator-for-the-g-formula" class="nav-link" data-scroll-target="#xgboost-as-a-function-approximator-for-the-g-formula">XGBoost as a Function Approximator for the G-Formula</a></li>
  <li><a href="#performance-relative-to-the-noise-ceiling" id="toc-performance-relative-to-the-noise-ceiling" class="nav-link" data-scroll-target="#performance-relative-to-the-noise-ceiling">Performance relative to the noise ceiling</a></li>
  <li><a href="#implications-for-real-world-arena-data" id="toc-implications-for-real-world-arena-data" class="nav-link" data-scroll-target="#implications-for-real-world-arena-data">Implications for Real World Arena Data</a></li>
  <li><a href="#scope-and-intended-use-of-the-estimator" id="toc-scope-and-intended-use-of-the-estimator" class="nav-link" data-scroll-target="#scope-and-intended-use-of-the-estimator">Scope and Intended Use of the Estimator</a></li>
  </ul></li>
  <li><a href="#limitations" id="toc-limitations" class="nav-link" data-scroll-target="#limitations">9. limitations</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">10. conclusion</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">references</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Identifying Causal Deck-Construction Effects in High-Dimensional Draft Environments</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Demetrius DiMucci </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 15, 2025</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="abstract" class="level2">
<h2 class="anchored" data-anchor-id="abstract">abstract</h2>
<p>Booster draft is a play mode of many trading card games where players select cards from a limited pool and construct a deck to later compete with. Deck strength in limited formats emerges from three forces: a player’s baseline win propensity (their skill), the composition of the deck they draft, and randomness in gameplay. these forces are entangled through the causal structure<br>
<code>W ← P → D → W</code>,<br>
where <code>P</code> is player skill, <code>D</code> is deck composition, and <code>W</code> is win outcome.</p>
<p>this article develops a method to identify the causal effect of deck composition on win rate in a high-dimensional setting using historical draft data for Magic: The Gathering (≈400 card features, ≈90k draft logs), despite strong confounding by skill. the approach combines hierarchical shrinkage, per-player baseline win estimation, high-dimensional modeling of deck performance, and simulation-based calibration. results show that naive regressions overstate the value of synergistic cards for highly skilled players, while the corrected estimator recovers a stable “deck bump” effect attributable to deck construction alone.</p>
<hr>
</section>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">1. introduction</h2>
<p>predictive models for limited formats (e.g., xgboost, neural networks) estimate how good a deck <em>will</em> perform. they do not isolate <em>why</em>. in games like magic: the gathering, draft decisions couple tightly to player skill: stronger players select higher-value cards, commit earlier, navigate signals better, and construct smoother curves. this creates a persistent confounding problem:</p>
<ul>
<li>deck composition <code>D</code> correlates with skill <code>P</code>,<br>
</li>
<li><code>P</code> also causes better win results <code>W</code>,<br>
</li>
<li>so naïve models inflate the apparent value of cards favored by strong players.</li>
</ul>
<p>i treat the draft ecosystem as a high-dimensional causal inference problem. the goal is to estimate<br>
<code>E[W | do(D)]</code><br>
rather than <code>E[W | D]</code>, i.e., isolate the effect of deck construction itself.</p>
<hr>
</section>
<section id="causal-structure" class="level2">
<h2 class="anchored" data-anchor-id="causal-structure">2. causal structure</h2>
<section id="dag" class="level3">
<h3 class="anchored" data-anchor-id="dag">2.1 dag</h3>
<pre class="text"><code>P ─────▶ W
│        ▲
│        │
└──────▶ D ─────▶ W</code></pre>
</section>
<section id="interpretation" class="level3">
<h3 class="anchored" data-anchor-id="interpretation">2.2 interpretation</h3>
<ul>
<li><strong>P (player skill)</strong> affects both deck strength and win rate.<br>
</li>
<li><strong>D (deck features)</strong> is high-dimensional (~400 card features and counts).<br>
</li>
<li><strong>W (match outcome)</strong> is binomial (best-of-3 events summarized to match winrate).</li>
</ul>
</section>
<section id="estimand" class="level3">
<h3 class="anchored" data-anchor-id="estimand">2.3 Estimand</h3>
<p>the target is the average causal effect (ACE) of deck composition <span class="math inline">\(d_1\)</span> relative to a baseline deck <span class="math inline">\(d_0(P)\)</span> for a player of skill <span class="math inline">\(P\)</span>:</p>
<p><span class="math display">\[
\tau(d_1) = E_p [E[W \mid do(D = d_1), P] - E[W \mid do(D = d_0(P)), P]].
\]</span></p>
<p>Because direct intervention on deck composition is counterfactual, this estimand is identified via adjustment for player skill. More concretely, it represents the difference in expected win rate caused by forcing a player of skill <span class="math inline">\(P\)</span> to use <span class="math inline">\(d_1\)</span> instead of the typical deck <span class="math inline">\(d_0(P)\)</span> drafted by players of that same skill.</p>
<p>Under the assumed directed acyclic graph (DAG) this estimand is identified because conditioning on <span class="math inline">\(P\)</span> blocks all backdoor paths from <span class="math inline">\(D\)</span> to <span class="math inline">\(W\)</span>, <span class="math inline">\(D\)</span> has no children other than <span class="math inline">\(W\)</span> , and there are no unobserved confounders of the <span class="math inline">\(D \rightarrow W\)</span> relationship after adjusting for <span class="math inline">\(P\)</span>.</p>
<p>It is important to clarify what this estimator is not: It is not the <em>effect</em> of drafting deck <span class="math inline">\(d_1\)</span>, it is not the effect of the player’s drafting choices, and it is not the effect of the deck conditional on the archetype. Rather, it isolates the causal contribution of the final realized deck composition itself <span class="math inline">\(D\)</span>, holding player skill fixed.</p>
<hr>
</section>
</section>
<section id="baseline-win-propensity" class="level2">
<h2 class="anchored" data-anchor-id="baseline-win-propensity">3. baseline win propensity</h2>
<p>I estimate per-player baseline skill via a hierarchical beta-binomial model across historical drafts:</p>
<p><span class="math display">\[
W_i \sim \text{Binomial}(n_i, p_i), \\
p_i \sim \text{Beta}(\alpha,\beta).
\]</span></p>
<p>this shrinks noisy players toward the population mean while giving stable posteriors for grinders. the result is a <strong>baseline win probability</strong> <span class="math inline">\(p_{\text{base}, i}\)</span> for each player that approximates the <span class="math inline">\(P \to W\)</span> path.</p>
<hr>
</section>
<section id="modeling-deck-driven-win-probability" class="level2">
<h2 class="anchored" data-anchor-id="modeling-deck-driven-win-probability">4. modeling deck-driven win probability</h2>
<section id="high-dimensional-deck-model" class="level3">
<h3 class="anchored" data-anchor-id="high-dimensional-deck-model">4.1 high-dimensional deck model</h3>
<p>i build a model</p>
<p><span class="math display">\[
\hat{p}_{\text{deck}} = f(D),
\]</span></p>
<p>where <span class="math inline">\(D\)</span> is the deck composition after construction (mana curve, color identity, card counts, rares, removal density, synergy flags, diminishing-returns interactions, etc.). xgboost handles sparsity, nonlinearity, and interactions.</p>
<p>cross-validation is grouped by player id to avoid leakage of skill.</p>
</section>
<section id="deck-bump" class="level3">
<h3 class="anchored" data-anchor-id="deck-bump">4.2 deck bump</h3>
<p>the deck’s causal contribution is operationalized as:</p>
<p><span class="math display">\[
\text{deck_{bump}} = f(D) - p_{\text{base}}.
\]</span></p>
<p>this removes the direct effect of <span class="math inline">\(P \to W\)</span> and isolates the <span class="math inline">\(D \to W\)</span> path.<br>
in quasi-random drafts, residual confounding is small.</p>
<hr>
</section>
</section>
<section id="identifiability-and-simulation-tests" class="level2">
<h2 class="anchored" data-anchor-id="identifiability-and-simulation-tests">5. Identifiability and simulation tests</h2>
<section id="a.-what-would-perfect-prediction-would-look-like-under-the-73-stop-rule" class="level4">
<h4 class="anchored" data-anchor-id="a.-what-would-perfect-prediction-would-look-like-under-the-73-stop-rule">A. What would perfect prediction would look like under the 7–3 stop rule?</h4>
<p>Before discussing any fitted model, it is useful to ask: If we actually knew the truth how good would our predictions about the deck be? Assume we know, for each deck, its true match win probability ( p ) and precisely how the underlying components contribute to it. Even in this “oracle” setting, a draft tournament run does not show us ( p ) directly. Instead, each deck is run through a truncated tournament where the run is stopped after accumulating either 7 wins or 3 losses. We can observe only the final record and from that compute an empirical win-rate for the deck and we can approximate the skill level of the player piloting the deck. This stopping rule injects noise. A perfect predictive model cannot remove this noise; it can only sit underneath it. Then the key question of interest is given these limitations on observations is how close to truth about net deck effect and bump can we get?</p>
<p>To study this, I built a generative simulator that creates a synthetic draft ecosystem with full control over the “true” underlying quantities. The simulator is intentionally simple, only five cards exist but it captures the essential causal structure. Each simulated player has a latent skill value which determines their baseline win probability <span class="math inline">\(p\)</span>. The player’s underlying skill influences which cards the player adds to their decks, real players don’t pick cards at random and vary in their abilities to assess the quality of cards. Each card has an intrinsic likelihood of being selected and the probability of selection is modified by the player’s skill. High skill players will select win-rate increasing cards more often than low skill players. This allows the simulation to inject confounding of the type <span class="math inline">\(P\)</span> <span class="math inline">\(\rightarrow\)</span> <span class="math inline">\(D\)</span> <span class="math inline">\(\rightarrow\)</span> <span class="math inline">\(W\)</span>, <span class="math inline">\(P\)</span> <span class="math inline">\(\rightarrow\)</span> <span class="math inline">\(W\)</span> that we see in real draft data.</p>
<p>The deck composition then produces a true deck effect. Once the draft is simulated the deck’s composition is run through a structural function that generates a true “deck bump”, this can be interpreted as a modifier to the player’s baseline win probability. This function considers the individual card strengths, interactions and anti-synergies between subsets of cards, skill-dependent effects (e.g.&nbsp;some complicated card may be misplayed frequently by low skill players), and an upper bound on how much a deck can add or subtract from the baseline skill. These elements produce the true deck effect <span class="math inline">\(\Delta p_{deck}\)</span> .</p>
<p>The baseline skill and the true deck effect combine to create the true match win-rate probability: <span class="math inline">\(p_{true} = logistic(skill) + \Delta p_{deck}\)</span></p>
<p>In a real draft this value would be invisible.</p>
<p>Next, the Magic Arena 7W - 3L best-of-one tournament logic is applied. Each deck is run through the same truncated process that characterizes the Premier Draft structure. At each stage of the tournament the outcome of the match is determined by <span class="math inline">\(p_{true}\)</span> and stopped when either 7 wins are reached or 3 losses. A simplifying assumption i make is that <span class="math inline">\(p_{true}\)</span> is constant throughout the run, in reality this is not the case due to Arena’s underlying matchmaking algorithm. This process produces an observed win rate, what we would see in practice when analyzing real draft data. Our observed deck bump would then be:<br>
<span class="math inline">\(\Delta p_{obs} = \hat p_{MLE} - p_{baseline}\)</span></p>
<p>Now that we know the ground truth we can ask “How well does a model recover the true deck effect when using what is observable?”, “What is the best possible <span class="math inline">\(R^2\)</span> any model could ever hope to achieve?” , “How much does the stopping rule distort the relationship between <span class="math inline">\(\Delta p_{true}\)</span> and <span class="math inline">\(\Delta p_{obs}\)</span>?”. “What fraction of the variance is irreducible noise?”. These quantities define the upper bound on model performance.</p>
</section>
<section id="findings" class="level3">
<h3 class="anchored" data-anchor-id="findings">Findings</h3>
<p>To answer the question <em>“How well can a model recover the true deck bump effect when it only has access to observable data?”</em>, I generate a training and test set of 20,000 simulated decks. Each deck has a known underlying win-probability bump <span class="math inline">\(\Delta p_{true}\)</span> but the model sees only what would be available in real draft data: deck composition, player’s baseline win-rate (a proxy for skill), and the final 7-3 run record. From these it can form the observed bump <span class="math inline">\(\Delta p_{obs} = p_{MLE} - p_{base}\)</span> , which is a noisy quantity that we would normally try to learn from.</p>
<p>I train an XGBoost model to predict <span class="math inline">\(\Delta p_{obs}\)</span> from deck composition and player skill, then evaluate predictions on the held-out test set by comparing <span class="math inline">\(\Delta p_{pred}\)</span> against the ground truth <span class="math inline">\(\Delta p_{true}\)</span>. Under these conditions the model performs extremely well. The regression of <span class="math inline">\(\Delta p_{pred}\)</span> on <span class="math inline">\(\Delta p_{true}\)</span> is tightly concentrated around the identity line (Figure 1) demonstrating that the model successfully learned the true deck effect from <span class="math inline">\(\Delta p_{obs}\)</span>.</p>
<p>This result reveals an important result: The modeling strategy is capable of capturing the causal contribution of deck contribution to win probability <span class="math inline">\((D \rightarrow W)\)</span> when the signal is available.</p>
<div id="fig-xgb-true-vs-pred" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figs/pred_vs_true_dp.png" class="img-fluid figure-img" style="width:100.0%"> F<em>igure 1. XGBoost achieves high fidelity recovery of the true deck effect Δp under full observability.</em></p>
<figcaption class="figure-caption">Figure&nbsp;1: <strong>?(caption)</strong></figcaption>
</figure>
</div>
<p>Crucially, this near-perfect recovery is unobservable in real data because Δpₜᵣᵤₑ is never seen. The only outcome we observe is the result of the truncated 7-3 Arena record, which is a very noisy proxy for deck strength. This leads to the second question: <em>What is the best possible</em> <span class="math inline">\(R^2\)</span> <em>that any model could hope to achieve?</em></p>
<p>To answer this I simulate an idealized scenario where the true deck win probability <span class="math inline">\(\Delta p_{true}\)</span> is known exactly. I repeatedly run each deck through the 7-3 stopping rule to generate the corresponding observed deck bump <span class="math inline">\(\Delta p_{obs} = p_{MLE} - p_{base}\)</span> . I then fit the best possible linear model <span class="math inline">\(\Delta p_{obs} \sim \Delta p_{true}\)</span> allowing both the intercept and slope to be estimated freely. This regression represents the maximum recoverable signal contained in the observable outcome.</p>
<p>Even with perfect knoweldge of the underlying win-rate, the best achievable <span class="math inline">\(R^2\)</span> is only about .06 (Figure 2). This seemingly low value is due to the intrinsic variance injected by the 7-3 tournament structure. The early stopping rule overwhelms the true effect with noise leaving only a small fraction identifiable from the observable results.</p>
<div class="figure">
<p><img src="figs/perfect_true_vs_obs_7_3.png" class="img-fluid" style="width:100.0%"> <em>Figure 2. Identifiability limit imposed by the Arena 7-3 stopping rule.</em></p>
<p>Each point represents a simulated deck with known true win-rate bump <span class="math inline">\(\Delta p_{true}\)</span> and the corresponding observed bump <span class="math inline">\(\Delta p_{obs}\)</span> obtained after running the deck through a tournament. The solid line is the slope of the best fitting linear regression model. The dashed line indicates the identity. With perfect knowledge the maximum achievable <span class="math inline">\(R^2\)</span> is about .06. This reflects the intrinsic variance introduced by the tournament structure.</p>
</div>
<hr>
</section>
</section>
<section id="empirical-results-on-17lands-fin-format" class="level2">
<h2 class="anchored" data-anchor-id="empirical-results-on-17lands-fin-format">6. empirical results on 17lands FIN format</h2>
<p>I now turn to estimating the causal effect of deck composition on player win rate using real Arena data. Throughout this section, I retain the causal framework and estimand defined in Section 2.</p>
<section id="lands-premier-draft-data" class="level3">
<h3 class="anchored" data-anchor-id="lands-premier-draft-data">6.1 17lands Premier Draft Data</h3>
<p>I obtained Premier Draft records for the <em>Final Fantasy</em> set from 17Lands (<a href="https://www.17lands.com/public_datasets" class="uri">https://www.17lands.com/public_datasets</a>). The dataset contains 77,864 complete anonymized draft runs, final deck compositions over 363 unique cards, player win-rate buckets, and player game-count buckets. The median player win rate is 0.54, reflecting that the typical 17Lands user is an above-average Arena player.</p>
</section>
<section id="calibration" class="level3">
<h3 class="anchored" data-anchor-id="calibration">6.2 calibration</h3>
<p>Using the same analytic pipeline as in the simulation study, I evaluated the ability of deck composition to predict the observed deck-induced win-rate bump using five-fold cross-validation. The model was trained to predict the skill-adjusted outcome proxy defined in Section 2, and all reported diagnostics are based on out-of-fold predictions.</p>
<div class="figure">
<p><img src="figs/bump_obs_vs_bump_hat_oof_simstyle.png" class="img-fluid" style="width:100.0%"> <em>Figure 3. Predicted deck bump vs observed deck bump effect using 5-fold cross-validation.</em></p>
<p>Each point corresponds to a realized deck, with the predicted deck effect <span class="math inline">\(\Delta_{pred}\)</span> plotted against the observed bump <span class="math inline">\(\Delta p_{obs}\)</span>​, defined as the difference between the posterior mean win probability from the realized 7–3 tournament run and the player's baseline win rate. Points are sized by the number of games played in the run and colored by player win-rate decile. The solid line shows the best-fitting weighted linear regression, while the dashed line denotes the identity.</p>
</div>
<p>The out-of-fold <span class="math inline">\(R^2\)</span> is approximately 0.06, indicating that deck composition explains a modest but non-negligible fraction of the variance in the skill-adjusted outcome proxy. Importantly, this magnitude closely approaches the empirical recoverability limit observed in the simulation study, where outcome censoring and binomial variance impose a hard ceiling on explainable variance. The agreement between simulated and real-data performance suggests that the model captures most of the deck-level signal that is practically identifiable under the Arena 7–3 tournament structure.</p>
</section>
<section id="player-strength-correction" class="level3">
<h3 class="anchored" data-anchor-id="player-strength-correction">6.3 player-strength correction</h3>
<p>card-level marginal value curves differ substantially after accounting for <span class="math inline">\(P\)</span>. for example:</p>
<ul>
<li>high-synergy cards appear overpowered in naïve models because skilled players draft them disproportionately.<br>
</li>
<li>after correction, the value curve flattens, revealing the actual diminishing returns.</li>
</ul>
<p>(insert sahagin figure here when ready.)</p>
</section>
<section id="per-card-marginal-curves" class="level3">
<h3 class="anchored" data-anchor-id="per-card-marginal-curves">6.4 per-card marginal curves</h3>
<p>for each card <span class="math inline">\(c\)</span>:</p>
<p><span class="math display">\[
m_{c}(n) = f(D_{c}=n) - f(D_{c}=n-1),
\]</span></p>
<p>revealing synergy pockets and diminishing returns without skill-induced distortion.</p>
<hr>
</section>
</section>
<section id="interpretability" class="level2">
<h2 class="anchored" data-anchor-id="interpretability">7. interpretability</h2>
<p>i compute:</p>
<ul>
<li>model-agnostic SHAP values for card contributions,<br>
</li>
<li>synergy matrices using pairwise deltas,<br>
</li>
<li>archetype embeddings based on deck-bump profiles.</li>
</ul>
<p>together, these reveal:</p>
<ul>
<li>which archetypes benefit most from high-skill pilots,<br>
</li>
<li>which cards have intrinsic value vs “skill halo” distortion,<br>
</li>
<li>how diminishing returns align with gameplay heuristics.</li>
</ul>
<hr>
</section>
<section id="discussion" class="level2">
<h2 class="anchored" data-anchor-id="discussion">8. Discussion</h2>
<section id="implications-and-use-cases" class="level3">
<h3 class="anchored" data-anchor-id="implications-and-use-cases">Implications and use cases</h3>
<p>The primary result of this study is that the causal contribution of deck composition to win rate can be isolated from player skill by conditioning on an approximate skill proxy. Despite heavy outcome censoring and substantial noise at the level of individual draft runs, deck composition explains a measurable and generalizable component of performance once player baseline win rate is accounted for. This demonstrates that “how strong a deck is” is a well-defined causal quantity, distinct from how well a player pilots it, and that it can be estimated from observational draft data.</p>
<p>The estimated deck effect is not a measure of drafting ability or in-game decision making, but rather the expected change in win probability by using one deck composition instead of another for a player of a fixed skill.</p>
</section>
<section id="utility-for-players-and-analysts" class="level3">
<h3 class="anchored" data-anchor-id="utility-for-players-and-analysts">Utility for players and analysts</h3>
<p>For players of card games, this framework is a principled way to quantify the contribution of specific cards or combinations of cards to deck strength, independent of player proficiency. While the model is trained on completed decks rather than live draft states, the resulting estimates can inform card evaluation, deck construction decisions, and post-draft analysis. Importantly, the modest variance explained by deck composition reflects the fundamental limits imposed by tournament structure and randomness, rather than a lack of signal in the cards themselves.</p>
</section>
<section id="methodological-contribution-causal-inference-in-high-dimensions" class="level3">
<h3 class="anchored" data-anchor-id="methodological-contribution-causal-inference-in-high-dimensions">Methodological Contribution: Causal inference in High Dimensions</h3>
<p>More broadly, this work serves as an applied example of causal inference in a high-dimensional setting, where the treatment variable, deck composition, consists of hundreds of correlated components. By explicitly defining the estimand, leveraging a causal graph to justify adjustment, and validating recoverability through simulation, this approach illustrates how flexible machine-learning models can be used as estimators of causal quantities without conflating prediction with causation. The results highlight the importance of separating identifiability, estimation, and evaluation, particularly when outcomes are noisy and partially observed.</p>
</section>
<section id="implications-for-game-design-and-balance-analysis" class="level3">
<h3 class="anchored" data-anchor-id="implications-for-game-design-and-balance-analysis">Implications for Game Design and Balance Analysis</h3>
<p>Finally, this framework may be useful for game designers and balance teams. By estimating the causal effect of deck composition independent of player skill, designers can identify cards or combinations that systematically over- or under-perform across the player base, rather than relying on raw win rates that are confounded by player selection effects. More generally, the approach provides a template for analyzing competitive systems in which player ability and strategic choices are tightly coupled, but where observational data are abundant.</p>
</section>
<section id="recovery-of-the-deck-effect-under-realistic-observation-noise" class="level3">
<h3 class="anchored" data-anchor-id="recovery-of-the-deck-effect-under-realistic-observation-noise">Recovery of the Deck Effect under Realistic Observation Noise</h3>
<p>Although the estimand defined in 2.3 is model agnostic, its recoverability in practice depends on the information constraints imposed by the Arena tournament structure. In particular, the latent per-game win probability <span class="math inline">\(p(D,P)\)</span> is never directly observed. Instead we observe only a stopped 7-3 fun outcome, which induces substantial variance and bias in any estimator derived from realized wins and losses. This censoring mechanism imposes a fundamental noise floor on inference that no modeling choice can eliminate.</p>
<p>To assess the practical limitations of these constraints, I constructed a simulated environment consistent with the assumed DAG, in which the true deck effect and baseline player skill are known, but only noisy proxies which mirror the real Arena data, are observed. This allows us to separate limitations due to statistical identifiability from those imposed by the observation process itself.</p>
</section>
<section id="xgboost-as-a-function-approximator-for-the-g-formula" class="level3">
<h3 class="anchored" data-anchor-id="xgboost-as-a-function-approximator-for-the-g-formula">XGBoost as a Function Approximator for the G-Formula</h3>
<p>Within the simulated environment, I use XGBoost as a flexible function approximator to learn the mapping implied by the g-formula:</p>
<p><span class="math inline">\((D,P) \rightarrow E[W | D,P]\)</span></p>
<p>and, by extension, the skill-adjusted deck effect. XGBoost is not essential to the estimand itself; instead it serves as a practical stand-in for a broad class of nonlinear models capable of capturing interactions nd saturation effects in high-dimensional deck representations.</p>
<p>The role of the model in this context is not to introduce causal structure, but to approximate a conditional expectation that s already causally identified by adjustment for player skill. Any sufficiently expressive learner with adequate regularization could, in principle, serve the same purpose.</p>
</section>
<section id="performance-relative-to-the-noise-ceiling" class="level3">
<h3 class="anchored" data-anchor-id="performance-relative-to-the-noise-ceiling">Performance relative to the noise ceiling</h3>
<p>A key result of the simulation is that XGBoost achieves predictive performance on the observed win-rate bump that approaches the theoretical ceiling implied by the 7-3 stopping rule. That is, accuracy is close to what would be attainable even if the true latent deck effect were known exactly and only the noisy outcome remained.</p>
<p>This finding is important for interpretation. Remaining errors should not be attributed to model inadequacy, but rather to irreducible uncertainty introduced by tournament censoring and finite sample sizes. In this sense, the model’s performance provides an empirical upper bound on how well the deck estimand can be recovered from Arena style data.</p>
</section>
<section id="implications-for-real-world-arena-data" class="level3">
<h3 class="anchored" data-anchor-id="implications-for-real-world-arena-data">Implications for Real World Arena Data</h3>
<p>Because the true deck effect is unobservable in real data, simulation serves as the only setting in which recovery can be directly validated. The results suggest that under realistic conditions, a substantial fraction of the causal signal attributable to deck composition can be recovered. This has two implications. First, improvements in model architecture alone are unlikely to yield large gains beyond this point. Second, alternative data sources or experimental design would be required to meaningfully reduce uncertainty around deck effects.</p>
</section>
<section id="scope-and-intended-use-of-the-estimator" class="level3">
<h3 class="anchored" data-anchor-id="scope-and-intended-use-of-the-estimator">Scope and Intended Use of the Estimator</h3>
<p>Finally, it is important to emphasize the scope of the resulting estimator. The model targets the causal contribution of the <em>final realized deck composition</em>, holding player skill fixed. While this quantity can be used as a heuristic signal during a live draft, it is not optimized for decision-making under partial information. Live draft guidance is better framed as a sequential decision problem, where the relevant object is the expected downstream value of an action given the evolving draft state, rather than the value of the terminal deck alone.</p>
<hr>
</section>
</section>
<section id="limitations" class="level2">
<h2 class="anchored" data-anchor-id="limitations">9. limitations</h2>
<ul>
<li>late-draft picks are not fully random.<br>
</li>
<li>synergy leakage into the baseline estimate can occur for player specialists.<br>
</li>
<li>cross-set generalization is not guaranteed.</li>
</ul>
<hr>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">10. conclusion</h2>
<p>isolating <span class="math inline">\(D \to W\)</span> in high-dimensional decision systems is feasible when skill is explicitly modeled and posterior adjustments isolate the structural contribution of deck composition. this produces interpretable, stable estimates of card and deck value and serves as a general causal-inference template.</p>
<hr>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">references</h2>
<ul>
<li>pearl, j. <em>causality</em>.<br>
</li>
<li>imbens, g., rubin, d.&nbsp;<em>causal inference for statistics, social, and biomedical sciences</em>.<br>
</li>
<li>chen, t., guestrin, c.&nbsp;(2016). xgboost: a scalable tree boosting system.<br>
</li>
<li>17lands.com performance and draft log data.</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>